# Changelog: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è UID

## –î–∞—Ç–∞: 15 –Ω–æ—è–±—Ä—è 2025

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ UID
- **–§–æ—Ä–º–∞—Ç**: `AZ-{–ì–û–î}-{ID}` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `AZ-2025-001`)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Google OAuth
- **–ú–∏–≥—Ä–∞—Ü–∏—è** –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å–∫—Ä–∏–ø—Ç `server/scripts/migrate-add-uid.js`)
- UID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≥–æ–¥–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### 2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏
- **Google OAuth**: –ê–≤–∞—Ç–∞—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ Google –ø—Ä–æ—Ñ–∏–ª—è
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ê–≤–∞—Ç–∞—Ä–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—Ö–æ–¥–µ —á–µ—Ä–µ–∑ Google
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: –ê–≤–∞—Ç–∞—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ª–∞—É–Ω—á–µ—Ä–µ –∏ –Ω–∞ –≤–µ–±-—Å–∞–π—Ç–µ

#### 3. –†–µ–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
- **API**: –ù–æ–≤–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞ `https://oneshakedown.onrender.com/api/news`
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –í –ª–∞—É–Ω—á–µ—Ä–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ—Å—Ç–∏ —Å —Ç–∏–ø–æ–º `launcher`
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ù–æ–≤–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–∫–ª–∞–¥–∫–∏

### üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

#### –ù–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `users`:
```sql
ALTER TABLE users 
ADD COLUMN IF NOT EXISTS avatar TEXT,
ADD COLUMN IF NOT EXISTS uid VARCHAR(50) UNIQUE;
```

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è UID –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```sql
UPDATE users 
SET uid = 'AZ-' || TO_CHAR(registered_at, 'YYYY') || '-' || LPAD(id::text, 3, '0')
WHERE uid IS NULL;
```

### üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

#### Server (server/index.js)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `avatar` –≤ —Ç–∞–±–ª–∏—Ü—É `users`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `uid` –≤ —Ç–∞–±–ª–∏—Ü—É `users`
- ‚úÖ Google OAuth —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞–≤–∞—Ç–∞—Ä–∫—É –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π UID
- ‚úÖ –í—Å–µ API endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `avatar` –∏ `uid`

#### Launcher
- ‚úÖ `Launcher/src/types/index.ts`: –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `uid` –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `User`
- ‚úÖ `Launcher/src/pages/ProfilePage.tsx`: UID —Ç–µ–ø–µ—Ä—å –±–µ—Ä–µ—Ç—Å—è –∏–∑ `user.uid`
- ‚úÖ `Launcher/src/pages/NewsPage.tsx`: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω API_URL –Ω–∞ `https://oneshakedown.onrender.com`

#### Web
- ‚úÖ `src/types/index.ts`: –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `uid` –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `User`
- ‚úÖ `src/pages/HomePage.tsx`: UID —Ç–µ–ø–µ—Ä—å –±–µ—Ä–µ—Ç—Å—è –∏–∑ `user.uid` (—Å fallback –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é)

### üöÄ –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
```bash
node server/scripts/migrate-add-uid.js
```

#### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:
```bash
npm start
```

#### 3. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ª–∞—É–Ω—á–µ—Ä (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
```bash
cd Launcher
npm run build
```

### üìä –ü—Ä–∏–º–µ—Ä—ã

#### –ü—Ä–∏–º–µ—Ä UID:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ 2025 –≥–æ–¥—É, ID = 1: `AZ-2025-001`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ 2024 –≥–æ–¥—É, ID = 42: `AZ-2024-042`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ 2025 –≥–æ–¥—É, ID = 1234: `AZ-2025-1234`

#### –ü—Ä–∏–º–µ—Ä –∞–≤–∞—Ç–∞—Ä–∫–∏:
- Google OAuth: `https://lh3.googleusercontent.com/a/...`
- Fallback: `/icon.ico` –∏–ª–∏ placeholder SVG

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ú–∏–≥—Ä–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞**: –ó–∞–ø—É—Å—Ç–∏—Ç–µ `migrate-add-uid.js` –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å UID**: UID —É–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **–ê–≤–∞—Ç–∞—Ä–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è**: –ü—Ä–∏ –∫–∞–∂–¥–æ–º –≤—Ö–æ–¥–µ —á–µ—Ä–µ–∑ Google –∞–≤–∞—Ç–∞—Ä–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
4. **–ù–æ–≤–æ—Å—Ç–∏**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –µ—Å—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ —Å —Ç–∏–ø–æ–º `launcher`

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- ‚ùå –°—Ç–∞—Ç–∏—á–Ω—ã–π UID `AZ-2024-020` ‚Üí ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π UID –Ω–∞ –æ—Å–Ω–æ–≤–µ –≥–æ–¥–∞ –∏ ID
- ‚ùå –°—Ç–∞—Ç–∏—á–Ω–∞—è –∞–≤–∞—Ç–∞—Ä–∫–∞ ‚Üí ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Google
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API URL –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π ‚Üí ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ `https://oneshakedown.onrender.com`
- ‚ùå –°—Ç–∞—Ç–∏—á–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ ‚Üí ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞
