# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Yandex OAuth

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Yandex OAuth

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://oauth.yandex.ru/
2. –ù–∞–∂–º–∏—Ç–µ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:
   - –ù–∞–∑–≤–∞–Ω–∏–µ: ShakeDown Client
   - –û–ø–∏—Å–∞–Ω–∏–µ: Minecraft –∫–ª–∏–µ–Ω—Ç —Å –ª–∞—É–Ω—á–µ—Ä–æ–º

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redirect URI (Callback URL)

–í —Ä–∞–∑–¥–µ–ª–µ **"Callback URI"** –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∞–¥—Ä–µ—Å–∞:

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–∞:
```
https://oneshakedown.onrender.com/api/auth/yandex/callback
```

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```
http://localhost:8080/api/auth/yandex/callback
```

### –î–ª—è –ª–∞—É–Ω—á–µ—Ä–∞:
```
http://localhost:3000/callback
```

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Suggest Hostname

–í –ø–æ–ª–µ **"Suggest Hostname"** –∏–ª–∏ **"–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã"** –¥–æ–±–∞–≤—å—Ç–µ:

```
oneshakedown.onrender.com
localhost
```

## –®–∞–≥ 4: –í—ã–±–æ—Ä –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (Scopes)

–û—Ç–º–µ—Ç—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∞:
- ‚úÖ **–î–æ—Å—Ç—É–ø –∫ email –∞–¥—Ä–µ—Å—É** (login:email)
- ‚úÖ **–î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è** (login:info)
- ‚úÖ **–î–æ—Å—Ç—É–ø –∫ –∞–≤–∞—Ç–∞—Ä—É** (login:avatar)

## –®–∞–≥ 5: –ü–æ–ª—É—á–µ–Ω–∏–µ Client ID –∏ Client Secret

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
- **Client ID** (ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- **Client Secret** (–ü–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ —É–∫–∞–∑–∞–Ω—ã –≤ —Ñ–∞–π–ª–µ `.env`:
```env
YANDEX_CLIENT_ID=6a99906594384864bde2d04cf2855ec2
YANDEX_CLIENT_SECRET=06941c5ff4ce4618b0e3550cb97455df
YANDEX_CALLBACK_URL=https://oneshakedown.onrender.com/api/auth/yandex/callback
```

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ Yandex:
- –ù–∞ —Å–∞–π—Ç–µ: –∫–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Yandex" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ /auth
- –í –ª–∞—É–Ω—á–µ—Ä–µ: –∫–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Yandex" –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `npm start`
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8080/auth
3. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Yandex"
4. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Yandex –∞–∫–∫–∞—É–Ω—Ç
5. –í—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

## –í–∞–∂–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- –ö–æ–Ω—Å–æ–ª—å Yandex OAuth: https://oauth.yandex.ru/
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API: https://yandex.ru/dev/id/doc/ru/
